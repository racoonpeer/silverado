var objComments=new CComments,Comments=objComments.init(),ObjShare=new CShare,Share=ObjShare.init(),objProductSet=new CProductSet,ProductSet=objProductSet.init();function CProductSet(){var e={wrapper:null,items:null,construct:function(){this.wrapper=$(".product-set .product-set-blocks"),this.items=this.wrapper.children(".product-set-block")},initialize:function(){var e=this;e.construct(),e.wrapper.slick({dots:!1,infinite:!1,slidesToShow:1,draggable:!1,swipe:!1,touchMove:!1,adaptiveHeight:!0,responsive:[{breakpoint:900,settings:{arrows:!1,dots:!0,draggable:!0,swipe:!0,touchMove:!0}}]}),$(window).bind("resize orientationchange",function(){setTimeout(function(){e.wrapper.slick("resize")},100)}),$.map(e.items,function(e){var t=$(e).find(".swiper-container").swiper({direction:"horizontal",spaceBetween:0,slidesPerView:3,scrollbar:$(e).find(".swiper-scrollbar"),scrollbarHide:!0,scrollbarDraggable:!0,slideToClickedSlide:!1,nextButton:$(e).find(".swiper-button-next"),prevButton:$(e).find(".swiper-button-prev"),breakpoints:{1280:{slidesPerView:2}}});$(window).bind("resize orientationchange",function(){setTimeout(function(){t.onResize()},100)})})}};this.init=function(){return e}}function CComments(){var e={open:!1,form:null,list:null,reply:function(e,t){return(e=parseInt(e)||0)>0&&(this.reset(),this.open||this.openForm(),$(this.form).find('input[name="cid"]').val(e),$(this.form).find("textarea").focus().val(t+", ")),!1},construct:function(){var e=this;e.form=$(document.getElementById("commentForm")),e.list=$(document.getElementById("commentList")),e.form.ajaxForm({url:window.location.href,dataType:"json",success:function(t){t.output&&(e.form.replaceWith(t.output),setTimeout(function(){e.construct()},100))}})},toggleForm:function(){var e=$(".comment-form"),t=$(".form-toggle");return e.toggleClass("hidden"),t.toggleClass("hidden"),e.hasClass("hidden")&&this.reset(),this.open=t.hasClass("hidden"),!1},openForm:function(){var e=$(".comment-form"),t=$(".form-toggle");return e.removeClass("hidden"),t.addClass("hidden"),this.open=!0,!1},reset:function(){this.form.trigger("reset")},load:function(e){var t=this;return $.ajax({url:e,dataType:"json",async:!1,timeout:5e3,beforeSend:function(){t.list.addClass("load")},success:function(e){e.output&&setTimeout(function(){t.list.removeClass("load").html(e.output)},500)},error:function(e,n,o){t.list.removeClass("load"),console.log(error+": "+o)}}),!1}};this.init=function(){return e}}$(function(){Comments.construct(),ProductSet.initialize();var e=$(".product-image"),t=e.children(".thumbs").find("a"),n=e.children(".screen");n.slick({infinite:!1,slidesPerRow:1,slidesToShow:1,slidesToScroll:1,adaptiveHeight:!0,lazyLoad:"progressive"}),n.on("afterChange",function(e,n,o){t.eq(o).closest("li").siblings("li").removeClass("selected"),t.eq(o).closest("li").addClass("selected"),$.map(n.$slides,function(e,t){t==o?setZoom(e,1):unSetZoom(e)})}).on("contextmenu",function(e){return e.preventDefault(),!1}),t.on("click",function(e){var t=$(this).data("index");n.slick("slickGoTo",t)}),setZoom(n.find(".slick-current.slick-active"),1)});